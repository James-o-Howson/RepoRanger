<div *ngIf="dependencyInstance$ | async as dependencyInstance">
    <p-panel header="{{ dependencyInstance.name }} ({{ dependencyInstance.version }})">

        <div class="flex align-items-start gap-1" >
            <p-checkbox [(ngModel)]="specificVersionOnly" [binary]="true" 
                label="Version {{ dependencyInstance.version }} only"
                (ngModelChange)="specificVersionOnlyChanged($event)" />
        </div>

        <p-divider type="solid">
            <b>Contained In</b>
            </p-divider>
        
            <p-tree [value]="treeNodes" [filter]="true" filterPlaceholder="Filter" class="w-full md:w-30rem" 
                selectionMode="single" [(selection)]="selectedTreeNode" (selectionChange)="treeNodeSelectionChanged($event)" />
    
        <p-divider type="solid">
        <b>{{getSelectedTreeNodeDetailsLabel()}}</b>
        </p-divider>
    
        <div *ngIf="canDisplayRepositorySummary()">
            <div class="flex flex-column gap-2">
                <label for="name">Name</label>
                <input readonly="true" pInputText id="name" [(ngModel)]="repositorySummary!.name" />
            </div>

            <div class="flex justify-content-left mt-2">
                <div class="flex flex-column gap-2">
                    <label for="remoteUrl">Remote Url</label>
                    <input readonly="true" pInputText id="remoteUrl" [(ngModel)]="repositorySummary!.remoteUrl" />
                </div>
    
                <div class="flex flex-column gap-2 ml-2">
                    <label for="parseTime">Parse Time</label>
                    <input readonly="true" pInputText id="parseTime" [value]="formatDate(repositorySummary!.parseTime)" />
                </div>
            </div>

            <div class="flex flex-column gap-2 mt-2">
                <label for="defaultBranchName">Default Branch</label>
                <input readonly="true" pInputText id="defaultBranchName" [(ngModel)]="repositorySummary!.defaultBranchName" />
            </div>
        </div>
        <div *ngIf="selectedTreeNodeIsProject()">
            <div class="flex flex-column gap-2">
                <label for="name">Name</label>
                <input readonly="true" pInputText id="name" [(ngModel)]="project!.name" />
            </div>

            <div class="flex justify-content-left mt-2">
                <div class="flex flex-column gap-2">
                    <label for="type">Type</label>
                    <input readonly="true" pInputText id="type" [(ngModel)]="project!.type" />
                </div>
    
                <div class="flex flex-column gap-2 ml-2">
                    <label for="version">Version</label>
                    <input readonly="true" pInputText id="version" [(ngModel)]="project!.version" />
                </div>
            </div>
            
            <div class="flex flex-column gap-2 mt-2">
                <label for="repositoryName">Repository</label>
                <input readonly="true" pInputText id="repositoryName" [(ngModel)]="project!.repositoryName" />
            </div>
        </div>
    </p-panel>
</div>